<!DOCTYPE html>
<html>
<head>
  <link href="Client/static/welcome.less" rel="stylesheet/less" type="text/css" /> 
  <script src="Client/js/Third-Party/less-1.3.0.min.js"></script>
  <script src="Client/js/Third-Party/jquery-1.7.2.min.js"></script>
  <script src="Client/js/Third-Party/soundmanager2/soundmanager2.js"></script>
  
  <script src="game.js"></script>

</head>
<body>

  <div id="main"></div>
  <script>
  $(function(){
    //soundManager.useFastPolling = true;
    soundManager.setup({
      url: 'Client/js/Third-Party/soundmanager2/swf',
      useHighPerformance:true,
      flashVersion: 9,
      ontimeout: function(){ console.log("Sound manager failed to load."); },
      onready: function(){
        window.sound = soundManager.createSound({
          id : "try",
          url: 'Client/resources/short-news-jingle.mp3',
          autoLoad:true,
          autoPlay: false,
          multishot:false,
          volume:50,
          loops:1,
          onload:function(){
            console.log("Sound manager loaded sound successfully.");
          },
        });
        //soundManager.play("try")
      }
    });

    var scene = new Scene(
      {
        base:"http://placehold.it/600x400", 
        shots: [
          {
            haiku:"roses are red", 
            offset: {x:10, y:10}, 
            img: "http://placehold.it/50x50/990000", 
            size: {x:50,y:50}
          },
          {
            haiku:"violets are blue", 
            offset: {x:100, y:100}, 
            img: "http://placehold.it/50x50/000099", 
            size: {x:50,y:50}
          },
          {
            haiku:"I enjoy murdering puppies too...", 
            offset: {x:300, y:200}, 
            img: "http://placehold.it/50x50/000000", 
            size: {x:50,y:50}
          },
        ],
        start: "This was the start of something",
        end: "Ferever less"
      }
    );

    scene.render($("#main"))
    
    $("#main").click(function(event){
      var os = $("#main").offset();
      var coords = {x:event.pageX-os.left, y:event.pageY-os.top}
      console.log(coords)
      scene.next($("#main"), coords);
      
    });


  });
  
  </script>


</body>
</html>
